{"version":3,"sources":["../../../../src/plugins/promise/library-first.js"],"names":["require","newPromise","allPromises","window","console","warn","Error","module","exports","promiseCreator"],"mappings":";;eAAkCA,QAAQ,oCAAR,C;IAA5BC,U,YAAAA,U;IAAYC,W,YAAAA,W;;AAElB,IAAI,CAACD,UAAD,IAAe,CAACC,WAApB,EAAiC;AAAA,kBACFF,QAAQ,mCAAR,CADE;;AAC7BC,YAD6B,aAC7BA,UAD6B;AACjBC,aADiB,aACjBA,WADiB;AAEhC;AACD,IAAI,CAAC,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,WAAW,IAA7C,KAAsD,CAACF,UAA3D,EAAuE;AAAA,kBACxCD,QAAQ,wBAAR,CADwC;;AACnEC,YADmE,aACnEA,UADmE;AACvDC,aADuD,aACvDA,WADuD;AAEtE;;AAED,IAAK,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,WAAW,IAA7C,IAAsD,CAACF,UAA3D,EAAuE;AACrE;AACA,MAAIE,OAAOC,OAAP,IAAkBD,OAAOC,OAAP,CAAeC,IAArC,EAA2C;AACxCF,WAAOC,OAAP,CAAeC,IAAf,CAAoB,qHAApB;AACF;AACF,CALD,MAKO,IAAI,CAAC,OAAOF,MAAP,KAAkB,WAAlB,IAAiCA,WAAW,IAA7C,KAAsD,CAACF,UAA3D,EAAuE;AAC5E;AACA,QAAM,IAAIK,KAAJ,CAAU,yDAAV,CAAN;AACD;;AAED;AACAC,OAAOC,OAAP,GAAiB;AACfC,kBAAgB,EAACR,sBAAD,EAAaC,wBAAb;AADD,CAAjB","file":"library-first.js","sourcesContent":["let { newPromise, allPromises } = require('../../helpers/promise-find-library')\n\nif (!newPromise || !allPromises) {\n  ({newPromise, allPromises} = require('../../helpers/promise-find-native'))\n}\nif ((typeof window === 'undefined' || window === null) && !newPromise) {\n  ({newPromise, allPromises} = require('../../adapters/promise'))\n}\n\nif ((typeof window !== 'undefined' && window !== null) && !newPromise) {\n  // Otherwise, show a warning (library can still be used with just callbacks)\n  if (window.console && window.console.warn) {\n     window.console.warn('Octokat: A Promise API was not found. Supported libraries that have Promises are jQuery, angularjs, and es6-promise')\n  }\n} else if ((typeof window === 'undefined' || window === null) && !newPromise) {\n  // Running in NodeJS\n  throw new Error('Could not find a promise lib for node. Seems like a bug')\n}\n\n// new class PreferLibraryOverNativePromises\nmodule.exports = {\n  promiseCreator: {newPromise, allPromises}\n}\n"]}